@model BestCollectionViewModel
@{
    var gridItems = await productService.GetAllProductsAsync();
    var categories = await categoryService.GetAllCategoriesAsync();
}
@if(Model != null)
{
    <section class="grid-collection">
        <div class="container">
            <h1 class="collection-title">@Model.Title</h1>
            <ul class="categories">
                @foreach (var category in categories)
                {
                    <li class="category-item">@category.CategoryName</li>
                }


            </ul>
            <div class="grid">
                @foreach(var Item in gridItems)
                {
                    @if(Item != null)
                    {
                        <a asp-controller="Product" asp-action="ProductDetail" asp-route-id="@Item?.Id" class="grid-item">
                            @foreach(var image in Item.Images.Take(1))
                            {
                                <img src="@image.ImageUrl" alt="Product Image">
                            }
                            
                            <div class="body">
                                <div class="title">@Item?.Title</div>
                                <div class="info">
                                    <div class="price">$@Item?.Price</div>
                                    <i class="add-cart fa-regular fa-cart-plus"></i>
                                </div>
                            </div>
                        </a>
                    }

                    @*<partial name="/Views/Partials/_Grid-item.cshtml" model="Item" />*@
                }
            </div>
            <partial name="/Views/Partials/Buttons/_Load-more-button.cshtml" />
        </div>
    </section>
}
